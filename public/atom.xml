<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>LXYu.â™¡</title>
  
  <subtitle>Ë™ áµ• Ë™ é€™æ˜¯æˆ‘çš„åœ°æ–¹</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-09-09T06:27:37.420Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>é²¤å°é±¼</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åå°ç®¡ç†ç³»ç»Ÿelement-adminâ€”â€”ç™»å½•æƒé™ç¯‡</title>
    <link href="http://yoursite.com/2020/09/08/element-admin/"/>
    <id>http://yoursite.com/2020/09/08/element-admin/</id>
    <published>2020-09-08T06:47:37.000Z</published>
    <updated>2020-09-09T06:27:37.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><p>è®°å½•å†™åå°ç®¡ç†ç³»ç»Ÿæ—¶çš„ä¸€äº›æƒ³æ³•å’Œç»„ä»¶çš„äºŒæ¬¡å°è£…ï¼Œé¡¹ç›®åˆæœŸå‚è€ƒçš„æ˜¯<a href="https://github.com/PanJiaChen" target="_blank" rel="noopener">èŠ±è£¤è¡©</a>å¤§ç¥çš„<a href="https://github.com/PanJiaChen/vue-element-admin" target="_blank" rel="noopener">vue-element-admin</a>ï¼ŒåæœŸæ ¹æ®ä¸šåŠ¡è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚</p><blockquote><p><a href="https://github.com/Yu-Lxy/element-admin" target="_blank" rel="noopener">é¡¹ç›®Githubåœ°å€</a></p></blockquote><a id="more"></a><h2 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h2><p>ç™»å½•æµç¨‹çš„æ€è·¯æˆ‘ä»¬å…ˆå±¡æ¸…æ¥šï¼š</p><ul><li><p>ç”¨æˆ·åœ¨ç™»å½•é¡µè¾“å…¥è´¦å·å¯†ç ï¼Œå°†è´¦å·å¯†ç å‘é€è¯·æ±‚ç»™åç«¯</p><ul><li><p>å°†è´¦å·å¯†ç å‘é€è¯·æ±‚ç»™åç«¯çš„æ–¹æ³•å†™åœ¨<code>vuex</code>é‡Œä¾¿äºå…¨å±€tokençš„å­˜å–ï¼Œè€Œå‰ç«¯ç™»å½•æ–¹æ³•é‡Œåªéœ€è¦å…³æ³¨ç™»å½•çš„ç»“æœï¼Œå¹¶æ ¹æ®ç»“æœè·³è½¬é¡µé¢æˆ–æç¤ºé”™è¯¯ï¼Œè¿™æ ·ä»£ç ç»“æ„ä¼šæ¸…æ™°ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- action: --&gt;</span><br><span class="line"></span><br><span class="line">Login (&#123;commit&#125;, userInfo) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; username, password &#125; = userInfo</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    login(&#123; <span class="attr">username</span>: username.trim(), <span class="attr">password</span>: password &#125;)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.event !== <span class="number">0</span>) &#123;</span><br><span class="line">          reject(res)</span><br><span class="line">        &#125;</span><br><span class="line">        Vue.ls.set(ACCESS_TOKEN, res.data.token, <span class="number">12</span> * <span class="number">60</span> * <span class="number">60</span> * <span class="number">1000</span>)</span><br><span class="line">        commit(<span class="string">'SET_TOKEN'</span>, res.data.token)</span><br><span class="line">        resolve()</span><br><span class="line">      &#125;)</span><br><span class="line">      .catch (<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        reject(error)</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"> &lt;!-- Loginé¡µé¢: --&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; mapActions &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"></span><br><span class="line">methods: &#123;</span><br><span class="line">  ...mapActions([<span class="string">'Login'</span>]),</span><br><span class="line">  handleLogin () &#123;</span><br><span class="line">    <span class="keyword">this</span>.$refs.loginForm.validate(<span class="function"><span class="params">valid</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (valid) &#123;</span><br><span class="line">        <span class="keyword">this</span>.loading = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">this</span>.Login(<span class="keyword">this</span>.loginForm)</span><br><span class="line">          .then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.$router.push(&#123; <span class="attr">path</span>: <span class="keyword">this</span>.redirect || <span class="string">'/'</span> &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;&#125;)</span><br><span class="line">            <span class="keyword">this</span>.loading = <span class="literal">false</span></span><br><span class="line">          &#125;).catch(<span class="function">(<span class="params">err</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">this</span>.$message.error(err.message);</span><br><span class="line">            <span class="keyword">this</span>.loading = <span class="literal">false</span></span><br><span class="line">          &#125;)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'error submit!!'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p>åç«¯éªŒè¯ä¸€ä¸‹ç”¨æˆ·çš„è´¦å·å’Œå¯†ç çš„ä¿¡æ¯ï¼Œå¦‚æœç¬¦åˆå°±å‘ä¸€ä¸ªtokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœä¸ç¬¦åˆå°±ä¸å‘é€tokenï¼Œè¿”å›éªŒè¯é”™è¯¯ä¿¡æ¯ã€‚</p></li><li>å¦‚æœç™»å½•æˆåŠŸï¼Œå®¢æˆ·ç«¯å°†<code>token</code>å­˜åœ¨<code>localStorage</code>é‡Œï¼Œä¹‹åè¦è¯·æ±‚å…¶ä»–èµ„æºçš„æ—¶å€™ï¼Œåœ¨è¯·æ±‚å¤´é‡Œå¸¦ä¸Šè¿™ä¸ªtokenã€‚<ul><li><code>service/http.js</code> ä¸­å…¨å±€è¯·æ±‚æ‹¦æˆªå™¨ä¸­ï¼š<code>config.headers[&#39;token&#39;] = token</code>ã€‚</li></ul></li><li>åç«¯æ”¶åˆ°è¯·æ±‚ä¿¡æ¯ï¼Œå…ˆéªŒè¯ä¸‹tokenæ˜¯å¦æœ‰æ•ˆï¼Œæœ‰æ•ˆåˆ™ä¸‹å‘è¯·æ±‚çš„èµ„æºï¼Œæ— æ•ˆåˆ™è¿”å›éªŒè¯é”™è¯¯ã€‚</li></ul><h3 id="è·å–ç”¨æˆ·ä¿¡æ¯"><a href="#è·å–ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="è·å–ç”¨æˆ·ä¿¡æ¯"></a>è·å–ç”¨æˆ·ä¿¡æ¯</h3><p>ç™»å½•æˆåŠŸä¹‹åï¼Œåœ¨å…¨å±€è·¯ç”±é’©å­<code>router.beforeEach</code>ä¸­æ‹¦æˆªè·¯ç”±ï¼Œåˆ¤æ–­å¦‚æœæœ‰tokenï¼Œå°±å»è·å–ç”¨æˆ·ä¿¡æ¯<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- router.beforeEach --&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (Vue.ls.get(ACCESS_TOKEN)) &#123;</span><br><span class="line">  store.dispatch(<span class="string">'GetInfo'</span>)</span><br><span class="line">  .then(<span class="function">(<span class="params">infoRes</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> roles = res.data.role;</span><br><span class="line">    next()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="æƒé™"><a href="#æƒé™" class="headerlink" title="æƒé™"></a>æƒé™</h2><p>æƒé™æ§åˆ¶æ˜¯å¾ˆå¸¸è§çš„éœ€æ±‚ï¼Œæˆ‘ä»¬çš„ä¸šåŠ¡è¦æ±‚æ§åˆ¶åˆ°æŒ‰é’®çº§åˆ«ã€‚</p><blockquote><p>é¡µé¢çº§æƒé™çš„å®ç°æ–¹å¼æ˜¯é€šè¿‡è·å–å½“å‰ç”¨æˆ·çš„æƒé™å»å¯¹æ¯”è·¯ç”±è¡¨ï¼Œç”Ÿæˆå½“å‰ç”¨æˆ·å…·æœ‰æƒé™å¯è®¿é—®çš„è·¯ç”±è¡¨ï¼Œé€šè¿‡ <code>router.addRouters</code> æŒ‚è½½åˆ° <code>router</code> ä¸Šã€‚</p></blockquote><p><strong>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><ol><li>åˆ¤æ–­æ˜¯å¦æœ‰<code>token</code>ï¼Œå¦‚æœæ²¡æœ‰å°±å»ç™»å½•ï¼Œæœ‰å°±ç¬¬äºŒæ­¥ã€‚</li><li>è·å–ç”¨æˆ·ä¿¡æ¯ <code>store.dispatch(&#39;GetInfo&#39;)</code>ã€‚</li><li>è·å–ä¿¡æ¯æˆåŠŸä¹‹åï¼Œè°ƒç”¨<code>store.dispatch(&#39;GenerateRoutes&#39;)</code>ï¼Œè¿™ä¸ªæ–¹æ³•é‡Œä¼šè°ƒç”¨/router/index.jsé‡Œçš„ <code>generatorDynamicRouter</code> æ–¹æ³•ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ ¹æ®ç”¨æˆ·ä¿¡æ¯æ„å»ºå¥½æƒé™çš„è·¯ç”±ç»“æ„ã€‚ï¼ˆgeneratorDynamicRouteræ–¹æ³•é‡Œå°†åå°è¿”å›çš„ä¸€ä¸ªå¹³çº§çš„menuä¿¡æ¯ï¼Œé€šè¿‡é€’å½’çš„æ–¹å¼ç”Ÿæˆå±‚çº§ç»“æ„ï¼Œå†é€’å½’ç”Ÿæˆå±‚çº§è·¯ç”±ï¼‰</li><li>å°†æ„å»ºçš„è·¯ç”±ç»“æ„ä¿¡æ¯åˆ©ç”¨ <code>Vue-Router</code> æä¾›çš„åŠ¨æ€å¢åŠ è·¯ç”±æ–¹æ³• <code>router.addRoutes</code> åŠ å…¥åˆ°è·¯ç”±è¡¨ä¸­ã€‚</li><li>åŠ å…¥è·¯ç”±è¡¨åå°†é¡µé¢è·³è½¬åˆ°ç”¨æˆ·åŸå§‹è¦è®¿é—®çš„é¡µé¢,å¦‚æœæ²¡æœ‰ <code>redirect</code> åˆ™è¿›å…¥é»˜è®¤é¡µé¢ã€‚</li></ol><blockquote><p>æˆ‘ä»¬æŠŠ <code>ç™»å½•</code> å’Œ <code>è·å–ç”¨æˆ·ä¿¡æ¯</code> åˆ†æˆäº†ä¸¤ä¸ªæ¥å£ï¼ŒåŸå› æ˜¯å½“ç”¨æˆ·åˆ·æ–°é¡µé¢æ—¶ï¼Œå¯ä»¥æ ¹æ®ç™»å½•æ—¶è·å–åˆ°çš„tokenå»è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œé¿å…äº†åˆ·æ–°è¿˜è¦è°ƒç”¨ç™»å½•æ¥å£ã€‚</p></blockquote><p>æ•´ä½“æµç¨‹å¯ä»¥çœ‹è¿™ä¸ªå›¾ï¼š<br><img src="/2020/09/08/element-admin/permission.png" alt="promission"></p><h3 id="å‰ç«¯æ§åˆ¶æƒé™"><a href="#å‰ç«¯æ§åˆ¶æƒé™" class="headerlink" title="å‰ç«¯æ§åˆ¶æƒé™"></a>å‰ç«¯æ§åˆ¶æƒé™</h3><p>æ—§ç‰ˆæœ¬åå°çš„è·¯ç”±è¡¨æ˜¯åç«¯åŒå­¦æ ¹æ®æƒé™ç”Ÿæˆçš„ï¼Œè¿™ä½¿å¾—å‰ç«¯å°ä¼™ä¼´æ¯å¼€å‘ä¸€ä¸ªé¡µé¢å°±éœ€è¦è®©åç«¯åŒå­¦é…ä¸€ä¸‹è·¯ç”±å’Œæƒé™ï¼Œå…‰å¬ç€å°±å¼€å§‹çš±çœ‰äº†ğŸ¤¦â€â™€ï¸ã€‚</p><p>äºæ˜¯æˆ‘ä»¬é‡‡ç”¨äº†åœ¨å‰ç«¯é¡µé¢é…ç½®è·¯ç”±å’Œæƒé™ï¼Œä¹‹åå°†è¿™ä»½è·¯ç”±è¡¨å­˜åˆ°åç«¯ã€‚</p><p>æƒé™/èœå•ï¼š<br><img src="/2020/09/08/element-admin/permission1.png" alt></p><p>æƒé™/è§’è‰²ï¼š<br><img src="/2020/09/08/element-admin/permission2.png" alt></p><blockquote><p><strong>ä¸€è§’è‰²å¯¹åº”å¤šæƒé™ï¼Œä¸€ç”¨æˆ·å¯¹åº”å¤šè§’è‰²</strong></p></blockquote><blockquote><p>å½“ç”¨æˆ·ç™»å½•åå¾—åˆ° <code>roles</code>ï¼Œå‰ç«¯æ ¹æ® roles å»å‘åç«¯è¯·æ±‚å¯è®¿é—®çš„è·¯ç”±è¡¨ï¼Œä»è€ŒåŠ¨æ€ç”Ÿæˆå¯è®¿é—®é¡µé¢ï¼Œä¹‹åå°±æ˜¯ <code>router.addRoutes</code> åŠ¨æ€æŒ‚è½½åˆ° <code>router</code> ä¸Šï¼Œå’ŒåŸæ¥æ˜¯ç›¸åŒçš„ã€‚</p></blockquote><h3 id="æŒ‰é’®çº§æƒé™"><a href="#æŒ‰é’®çº§æƒé™" class="headerlink" title="æŒ‰é’®çº§æƒé™"></a>æŒ‰é’®çº§æƒé™</h3><p>åœ¨é…ç½®èœå•æƒé™é¡µé¢ä¹Ÿå¯ä»¥æ·»åŠ é…ç½®æŒ‰é’®çš„æƒé™ï¼Œç™»å½•ä¹‹åçš„ <code>store.dispatch(&#39;GetInfo&#39;)</code> ä¸­èƒ½æ‹¿åˆ°å¯¹åº”æƒé™çš„æŒ‰é’®ï¼Œå¹¶å­˜å‚¨åœ¨ <code>vuex</code> ä¸­ã€‚</p><p>åˆ¤æ–­æŒ‰é’®æ˜¯å¦å±•ç¤ºæ˜¯å†™äº†ä¸€ä¸ªå…¬ç”¨æ–¹æ³• <code>checkPermission</code> ï¼Œæ²¡æœ‰ç”¨æŒ‡ä»¤æ˜¯å› ä¸ºæ— æ³•é€‚ç”¨äºæ‰€æœ‰ç»„ä»¶ã€‚</p><p>å°†æå‰è®¾ç½®å¥½çš„ <code>å”¯ä¸€é”®</code> ä¼ å…¥æ–¹æ³•ï¼Œå°±å¯ä»¥ä»vuexé‡Œ <code>store.getters.buttons</code> æ‹¿åˆ°æ‰€æœ‰æŒ‰é’®æƒé™ï¼Œå¯¹æ¯”åè¿”å› <code>true æˆ– false</code>ï¼Œæ¥æ§åˆ¶æŒ‰é’®çš„å±•ç¤ºã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- å¼•å…¥æ–¹æ³• --&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; checkPermission &#125; <span class="keyword">from</span> <span class="string">'@/utils/permissions'</span></span><br><span class="line"></span><br><span class="line">&lt;!-- dataä¸­å®šä¹‰å˜é‡ --&gt;</span><br><span class="line">addEnable: checkPermission(<span class="string">'system:role:add'</span>)</span><br><span class="line"></span><br><span class="line">&lt;!-- v-<span class="keyword">if</span>åˆ¤æ–­ --&gt;</span><br><span class="line">&lt;el-button v-<span class="keyword">if</span>=<span class="string">"addEnable"</span>&gt;æ·»åŠ è§’è‰²&lt;<span class="regexp">/el-button&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Start&quot;&gt;&lt;a href=&quot;#Start&quot; class=&quot;headerlink&quot; title=&quot;Start&quot;&gt;&lt;/a&gt;Start&lt;/h2&gt;&lt;p&gt;è®°å½•å†™åå°ç®¡ç†ç³»ç»Ÿæ—¶çš„ä¸€äº›æƒ³æ³•å’Œç»„ä»¶çš„äºŒæ¬¡å°è£…ï¼Œé¡¹ç›®åˆæœŸå‚è€ƒçš„æ˜¯&lt;a href=&quot;https://github.com/PanJiaChen&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;èŠ±è£¤è¡©&lt;/a&gt;å¤§ç¥çš„&lt;a href=&quot;https://github.com/PanJiaChen/vue-element-admin&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;vue-element-admin&lt;/a&gt;ï¼ŒåæœŸæ ¹æ®ä¸šåŠ¡è¿›è¡Œäº†ä¸€äº›ä¿®æ”¹ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Yu-Lxy/element-admin&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;é¡¹ç›®Githubåœ°å€&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="vue" scheme="http://yoursite.com/categories/vue/"/>
    
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>ç¬¬ä¸€æ¬¡ä½¿ç”¨mongoDBçš„è®°å½•</title>
    <link href="http://yoursite.com/2020/09/04/mongo/"/>
    <id>http://yoursite.com/2020/09/04/mongo/</id>
    <published>2020-09-04T07:30:15.000Z</published>
    <updated>2020-09-04T10:00:05.625Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ä¸€ä¸ª <code>vue+express+mongodb</code> çš„å°demoï¼Œå®ç°äº†åˆ—è¡¨çš„å¢åˆ æŸ¥ï¼Œä»¥åŠç®€å•çš„åˆ†é¡µåŠŸèƒ½ã€‚<br><a href="https://github.com/Yu-Lxy/Daily_practice/tree/master/mongo" target="_blank" rel="noopener">Githubé¡¹ç›®åœ°å€</a></p><a id="more"></a><h2 id="mongoå‘½ä»¤è¡Œæ“ä½œ"><a href="#mongoå‘½ä»¤è¡Œæ“ä½œ" class="headerlink" title="mongoå‘½ä»¤è¡Œæ“ä½œ"></a>mongoå‘½ä»¤è¡Œæ“ä½œ</h2><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿›å…¥mongoå‘½ä»¤è¡Œ</span></span><br><span class="line"><span class="selector-tag">mongo</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“</span></span><br><span class="line"><span class="selector-tag">show</span> <span class="selector-tag">dbs</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ‡æ¢/åˆ›å»ºæ•°æ®åº“,å½“åˆ›å»ºä¸€ä¸ªé›†åˆ(table)çš„æ—¶å€™ä¼šè‡ªåŠ¨åˆ›å»ºå½“å‰æ•°æ®åº“</span></span><br><span class="line"><span class="selector-tag">use</span> <span class="selector-tag">test</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢</span></span><br><span class="line"><span class="selector-tag">db</span>.è¡¨å<span class="selector-class">.find</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¡ä»¶æŸ¥è¯¢</span></span><br><span class="line"><span class="selector-tag">db</span>.è¡¨å<span class="selector-class">.find</span>(&#123;<span class="attribute">price</span>: <span class="number">5</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’å…¥(insertOne/insertMany/save)</span></span><br><span class="line"><span class="selector-tag">db</span>.è¡¨å<span class="selector-class">.insertOne</span>(&#123;<span class="attribute">name</span>: <span class="string">'è‹¹æœ'</span>, <span class="attribute">price</span>: <span class="number">5</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ›´æ–°</span></span><br><span class="line"><span class="selector-tag">db</span>.è¡¨å<span class="selector-class">.update</span>(&#123; <span class="attribute">name</span>: <span class="string">'è‹¹æœ'</span> &#125;, &#123; $<span class="attribute">set</span>: &#123; <span class="attribute">price</span>: <span class="number">6</span> &#125; &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ é™¤(deleteOne/deleteMany/remove)</span></span><br><span class="line"><span class="selector-tag">db</span>.è¡¨å<span class="selector-class">.updateOne</span>(&#123; <span class="attribute">name</span>: <span class="string">'è‹¹æœ'</span> &#125;)</span><br></pre></td></tr></table></figure><h2 id="mongoDB"><a href="#mongoDB" class="headerlink" title="mongoDB"></a>mongoDB</h2><blockquote><p>mongoDBçš„åŸºæœ¬æ“ä½œ</p></blockquote><ol><li><p>è¿æ¥mongoDB</p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®¢æˆ·ç«¯</span></span><br><span class="line"><span class="keyword">const</span> MongoClient = <span class="built_in">require</span>(<span class="string">'mongodb'</span>).MongoClient</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿æ¥URL</span></span><br><span class="line"><span class="keyword">const</span> <span class="built_in">url</span> = <span class="string">'mongodb://localhost:27017'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°æ®åº“å</span></span><br><span class="line"><span class="keyword">const</span> dbName = <span class="string">'test'</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 0.åˆ›å»ºå®¢æˆ·ç«¯</span></span><br><span class="line">  <span class="keyword">const</span> client = <span class="keyword">new</span> MongoClient(<span class="built_in">url</span>, &#123; <span class="attribute">useNewUrlParser</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">  <span class="title">try</span> &#123;</span><br><span class="line">    <span class="comment">// 1.è¿æ¥æ•°æ®åº“(å¼‚æ­¥) </span></span><br><span class="line">    <span class="keyword">await</span> client.connect() </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'è¿æ¥æˆåŠŸ'</span>)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(error)</span><br><span class="line">  &#125;</span><br><span class="line">  client.close()</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></li><li><p>è·å–æ•°æ®åº“</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">db</span> = client.<span class="keyword">db</span>(dbName)</span><br></pre></td></tr></table></figure></li><li><p>è·å–è¡¨</p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> col = <span class="keyword">db</span>.collection(colName)</span><br></pre></td></tr></table></figure></li></ol><p>åŸºæœ¬æ“ä½œäº†è§£åè¿è¡Œä¸€ä¸‹<a href="https://github.com/Yu-Lxy/Daily_practice/tree/master/mongo" target="_blank" rel="noopener">é¡¹ç›®</a>é‡Œçš„ä»£ç ~ ğŸ‘‡</p><h2 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h2><p>é¦–å…ˆå®‰è£…ä»¥ä¸‹<br><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="built_in">i</span> express path <span class="keyword">events</span> mongodb nodemon</span><br></pre></td></tr></table></figure></p><p>conf.jsé‡Œè®¾ç½®è‡ªå·±çš„mongodbé…ç½®</p><p>æ•°æ®åº“æ²¡æ•°æ®çš„è¯å…ˆæ‰§è¡Œä»¥ä¸‹æ·»åŠ æ•°æ®ï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> models</span><br><span class="line">nodemon testData.js</span><br></pre></td></tr></table></figure></p><p>æ·»åŠ å¥½ä¹‹åctrl+c, å†æ‰§è¡Œä»¥ä¸‹<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">cd</span></span> ..</span><br><span class="line">nodemon index.js</span><br></pre></td></tr></table></figure></p><p>æ‰“å¼€localhost:3000èƒ½çœ‹åˆ°å¦‚ä¸‹æ ·å¼</p><p><img src="https://i.loli.net/2020/08/27/ALNjeIKPOY9QTHF.png" alt="image.png"></p><h2 id="EventEmitter"><a href="#EventEmitter" class="headerlink" title="EventEmitter"></a>EventEmitter</h2><p><a href="https://github.com/Yu-Lxy/Daily_practice/tree/master/mongo" target="_blank" rel="noopener">é¡¹ç›®</a>ä¸­æœ‰ä¸€ä¸ªtestData.jsï¼Œæ‰§è¡Œåå¯ä»¥æ’å…¥æµ‹è¯•æ•°æ®ã€‚å…¶ä¸­æœ‰ä¸€ä¸ª <code>mongodb.once()</code> æ–¹æ³•ï¼Œå®é™…ä¸Šåœ¨db.jsé‡Œçš„ <code>MongDBç±»</code> ä¸­æ˜¯æ‰§è¡Œäº† <code>EventEmitterçš„once</code> æ–¹æ³•ã€‚eventsæ¨¡å—åªæä¾›äº†ä¸€ä¸ªå¯¹è±¡ï¼š <code>events.EventEmitter</code>ï¼Œ å…¶æ ¸å¿ƒå°±æ˜¯äº‹ä»¶è§¦å‘ä¸äº‹ä»¶ç›‘å¬å™¨åŠŸèƒ½çš„å°è£…ï¼Œå¯ä»¥é€šè¿‡require(â€˜eventsâ€™)æ¥è®¿é—®è¯¥æ¨¡å—ã€‚<br><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¾‹å­</span></span><br><span class="line"><span class="keyword">const</span> EventEmitter = <span class="built_in">require</span>(<span class="string">'events'</span>).EventEmitter </span><br><span class="line"><span class="keyword">const</span> event = <span class="keyword">new</span> EventEmitter() </span><br><span class="line">event.on(<span class="string">'some_event'</span>, <span class="function"><span class="params">num</span> =&gt;</span>  &#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'some_event äº‹ä»¶è§¦å‘:'</span> + num) </span><br><span class="line">&#125;) </span><br><span class="line"><span class="keyword">let</span> num = <span class="number">0</span></span><br><span class="line">setInterval(<span class="function"><span class="params">()</span> =&gt;</span>  &#123; </span><br><span class="line">  event.emit(<span class="string">'some_event'</span> , num ++ ) </span><br><span class="line">&#125;, <span class="number">1000</span>)</span><br></pre></td></tr></table></figure></p><p><code>event.once()</code> æ˜¯åªæ‰§è¡Œä¸€æ¬¡çš„ç›‘å¬ï¼Œæ‰€ä»¥æ‰§è¡Œ <code>nodemon testData.js</code> åï¼Œåªè§¦å‘ä¸€æ¬¡è¿åº“çš„æ“ä½œå¹¶æ‰§è¡Œå›è°ƒã€‚</p><h2 id="æ³¨æ„çš„ç‚¹"><a href="#æ³¨æ„çš„ç‚¹" class="headerlink" title="æ³¨æ„çš„ç‚¹"></a>æ³¨æ„çš„ç‚¹</h2><ul><li>åç«¯getè¯·æ±‚çš„å‚æ•°ä»<code>query</code>é‡Œæ‹¿, postè¯·æ±‚çš„å‚æ•°ä»<code>body</code>é‡Œæ‹¿ã€‚</li><li><code>const page = + req.query.page</code> +å·ä¸ºäº†è½¬Numberç±»å‹ã€‚</li><li><code>.skip(n).limit(m)</code> æ„ä¸ºè·³è¿‡nä¸ªå–mä¸ªã€‚</li><li>mongoDBæ’å…¥æ•°æ®æ—¶è‡ªåŠ¨ç”Ÿæˆçš„ <code>_id</code> æ˜¯ <code>ObjectId</code> å¯¹è±¡ç±»å‹ï¼Œæ‰€ä»¥å½“å‚æ•°ä½œä¸ºæŸ¥è¯¢æ¡ä»¶æ—¶éœ€è¦å¼•å…¥ <code>mongodbçš„ObjectID</code>ï¼Œä¼ å‚æ—¶è°ƒç”¨ã€‚</li></ul><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>å‰ç«¯å°ç™½ç¬¬ä¸€æ¬¡ä½¿ç”¨mongoDBçš„è®°å½•ğŸ“ï¼Œç®€å•å°ä¾‹å­å®¹æ˜“å…¥é—¨å’Œç†è§£ï¼Œè½»å–·~ ğŸ˜†</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;ç®€ä»‹&quot;&gt;&lt;a href=&quot;#ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;ç®€ä»‹&quot;&gt;&lt;/a&gt;ç®€ä»‹&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ª &lt;code&gt;vue+express+mongodb&lt;/code&gt; çš„å°demoï¼Œå®ç°äº†åˆ—è¡¨çš„å¢åˆ æŸ¥ï¼Œä»¥åŠç®€å•çš„åˆ†é¡µåŠŸèƒ½ã€‚&lt;br&gt;&lt;a href=&quot;https://github.com/Yu-Lxy/Daily_practice/tree/master/mongo&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Githubé¡¹ç›®åœ°å€&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="mongoDB" scheme="http://yoursite.com/categories/mongoDB/"/>
    
    
      <category term="mongoDB" scheme="http://yoursite.com/tags/mongoDB/"/>
    
  </entry>
  
  <entry>
    <title>vue+koa+mysqlå®ç°ä¸€ä¸ªç®€å•çš„todolist</title>
    <link href="http://yoursite.com/2020/08/25/koa/"/>
    <id>http://yoursite.com/2020/08/25/koa/</id>
    <published>2020-08-25T02:41:27.000Z</published>
    <updated>2020-09-04T07:31:36.320Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><p>æ„å»ºä¸€ä¸ªæ•°æ®é€šè¿‡ <code>koa</code> çš„apiè·å–ï¼Œé¡µé¢é€šè¿‡ <code>vue</code> æ¸²æŸ“çš„å‰åç«¯éƒ½æœ‰çš„å®Œæ•´demoã€‚åŒ…æ‹¬ä¸€ä¸ªç™»é™†é¡µé¢å’Œä¸€ä¸ªtodolisté¡µé¢çš„å¢åˆ æ”¹æŸ¥ï¼Œå…¶ä¸­ç”¨åˆ°äº†å‰ç«¯ <code>Vueæ¡†æ¶</code> ã€<code>koa</code> æä¾›æ¥å£ã€éªŒè¯ <code>token</code>ã€<code>sequelize</code> æ“ä½œ <code>mysql</code> ç­‰ï¼Œè¿™é‡Œè®°å½•ä¸€äº›å…³é”®ç‚¹ã€‚</p><a id="more"></a><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><p>è¿™é‡Œç”¨åˆ°çš„æ˜¯vue-cli2çš„webpackï¼Œé¡¹ç›®åˆ›å»ºå¥½ä¹‹åæ‰§è¡Œ<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yarn </span><br><span class="line">yarn <span class="keyword">add </span>koa koa-router koa-logger koa-<span class="keyword">json </span>koa-<span class="keyword">bodyparser </span>nodemon vue-router element-ui axios koa-<span class="keyword">jwt </span><span class="keyword">bcrypt </span>kao-static</span><br></pre></td></tr></table></figure></p><blockquote><p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºserveræ–‡ä»¶å¤¹ï¼ŒåŠå­æ–‡ä»¶å¤¹</p><ul><li>configï¼ˆæ•°æ®åº“é…ç½®ï¼‰</li><li>controllersï¼ˆæ§åˆ¶å±‚ï¼Œæ ¹æ®é¡µé¢çš„è¯·æ±‚é€‰å–â€æ•°æ®å±‚â€ä¸­ç›¸åº”çš„æ•°æ®ï¼Œç„¶åè¿”å›ç»™é¡µé¢ï¼‰</li><li>modelsï¼ˆæ•°æ®å±‚ï¼Œå°†æ•°æ®åº“å’Œè¡¨ç»“æ„è¿èµ·æ¥ï¼‰</li><li>routesï¼ˆè·¯ç”±ï¼‰</li><li>schemaï¼ˆè¡¨ç»“æ„ï¼‰</li></ul></blockquote><blockquote><p>åœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºapp.jsä½œä¸ºkoaçš„å¯åŠ¨æ–‡ä»¶ï¼ˆå…·ä½“ä»£ç è§é¡¹ç›®ï¼‰</p></blockquote><p>åç«¯ï¼šåœ¨æ§åˆ¶å°è¾“å…¥ <code>nodemon app.js</code>, è¾“å‡º<code>Koa is listening in 8889</code>è¯´æ˜å¯åŠ¨æˆåŠŸï¼Œå¹¶åœ¨8889ç«¯å£ç›‘å¬ã€‚<br>å‰ç«¯ï¼šåœ¨æ§åˆ¶å°è¾“å…¥ <code>npm run dev</code> ååœ¨ <code>localhost:8080</code> å¯ä»¥å±•ç¤ºå‰ç«¯é¡µé¢ã€‚</p><h2 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h2><p>å¯ä»¥å»å®˜ç½‘ä¸‹è½½<code>mysql</code>ï¼Œæˆ‘ç”¨åˆ°çš„å¯è§†åŒ–å·¥å…·æ˜¯<code>MySQLWorkbench</code></p><p>å®‰è£…å¥½åå¼€å§‹åˆ›å»ºæ•°æ®è¡¨ã€‚ç”¨æˆ·è¡¨ï¼šç”¨äºç™»å½•éªŒè¯ã€‚å¾…åŠäº‹é¡¹è¡¨ç”¨äºå±•ç¤ºå¾…åŠäº‹é¡¹ã€‚</p><p>userè¡¨ï¼š</p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>id(ç”¨æˆ¶id)</td><td>int(è‡ªå¢)</td></tr><tr><td>user_name(ç”¨æˆ·å)</td><td>CHAR(50)</td></tr><tr><td>password(å¯†ç )</td><td>CHAR(128)</td></tr></tbody></table><p>â€”</p><p>listè¡¨ï¼š</p><table><thead><tr><th>å­—æ®µ</th><th>ç±»å‹</th></tr></thead><tbody><tr><td>id(listçš„id)</td><td>int(è‡ªå¢)</td></tr><tr><td>user_id(ç”¨æˆ·id)</td><td>int(11)</td></tr><tr><td>content(ä»£åŠå†…å®¹)</td><td>CHAR(255)</td></tr><tr><td>status(ä»£åŠçŠ¶æ€)</td><td>tinyint(1)</td></tr></tbody></table><p>â€”</p><h2 id="Sequelize"><a href="#Sequelize" class="headerlink" title="Sequelize"></a>Sequelize</h2><p><code>sequelize</code> ç†è§£ä¸ºç”¨ç®€å•çš„æ–¹å¼æ“ä½œæ•°æ®åº“çš„ORMæ¡†æ¶ã€‚</p><p><code>server/schema</code> ä¸‹æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œuser.jså’Œlist.jsï¼Œæ˜¯æ•°æ®åº“çš„ä¸¤å¼ è¡¨ç»“æ„ï¼Œå¯ä½¿ç”¨sequelize-autoç›´æ¥å¯¼å‡ºè¡¨ç»“æ„ã€‚</p><p>åœ¨<code>server/config</code>ä¸‹æ–°å»ºdb.js, ç”¨äºåˆå§‹åŒ–Sequelizeå’Œæ•°æ®åº“çš„è¿æ¥ï¼ˆå…·ä½“ä»£ç è§é¡¹ç›®ï¼‰</p><h2 id="JSON-WEB-TOKEN"><a href="#JSON-WEB-TOKEN" class="headerlink" title="JSON-WEB-TOKEN"></a>JSON-WEB-TOKEN</h2><p>è¿ç”¨äº†JSON-WEB-TOKENçš„ç™»å½•ç³»ç»Ÿåº”è¯¥æ˜¯è¿™æ ·çš„ï¼š</p><blockquote><ol><li>ç”¨æˆ·åœ¨ç™»å½•é¡µè¾“å…¥è´¦å·å¯†ç ï¼Œå°†è´¦å·å¯†ç ï¼ˆåŠ å¯†åï¼‰å‘é€è¯·æ±‚ç»™åç«¯</li><li>åç«¯éªŒè¯ä¸€ä¸‹ç”¨æˆ·çš„è´¦å·å’Œå¯†ç çš„ä¿¡æ¯ï¼Œå¦‚æœç¬¦åˆå°±å‘ä¸€ä¸ªtokenè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œå¦‚æœä¸ç¬¦åˆå°±ä¸å‘é€tokenï¼Œè¿”å›éªŒè¯é”™è¯¯ä¿¡æ¯ã€‚</li><li>å¦‚æœç™»å½•æˆåŠŸï¼Œå®¢æˆ·ç«¯å°†tokenç”¨æŸç§æ–¹å¼å­˜ä¸‹æ¥ï¼Œä¹‹åè¦è¯·æ±‚å…¶ä»–èµ„æºçš„æ—¶å€™ï¼Œåœ¨è¯·æ±‚å¤´é‡Œå¸¦ä¸Šè¿™ä¸ªtokenã€‚</li><li>åç«¯æ”¶åˆ°è¯·æ±‚ä¿¡æ¯ï¼Œå…ˆéªŒè¯ä¸‹tokenæ˜¯å¦æœ‰æ•ˆï¼Œæœ‰æ•ˆåˆ™ä¸‹å‘è¯·æ±‚çš„èµ„æºï¼Œæ— æ•ˆåˆ™è¿”å›éªŒè¯é”™è¯¯ã€‚</li></ol></blockquote><p>é€šè¿‡è¿™ä¸ªtokençš„æ–¹å¼ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´çš„è®¿é—®ï¼Œæ˜¯æ— çŠ¶æ€çš„ã€‚ä¹Ÿå°±æ˜¯æœåŠ¡ç«¯ä¸çŸ¥é“ä½ è¿™ä¸ªç”¨æˆ·åˆ°åº•åœ¨ä¸åœ¨çº¿ï¼Œåªè¦ä½ å‘é€çš„è¯·æ±‚å¤´é‡Œçš„tokenæ˜¯æ­£ç¡®çš„æˆ‘å°±ç»™ä½ è¿”å›ä½ æƒ³è¦çš„èµ„æºã€‚è¿™æ ·èƒ½å¤Ÿä¸å ç”¨æœåŠ¡ç«¯çš„ç©ºé—´èµ„æºï¼Œè€Œä¸”å¦‚æœæ¶‰åŠåˆ°æœåŠ¡å™¨é›†ç¾¤ï¼Œå¦‚æœæœåŠ¡å™¨è¿›è¡Œç»´æŠ¤æˆ–è€…è¿ç§»æˆ–è€…éœ€è¦CDNèŠ‚ç‚¹çš„åˆ†é…çš„è¯ï¼Œ<code>æ— çŠ¶æ€</code>çš„è®¾è®¡æ˜¾ç„¶ç»´æŠ¤æˆæœ¬æ›´ä½ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- ç”¨æ³• --&gt;</span></span><br><span class="line"></span><br><span class="line">const secret = 'vue-koa-demo' // æŒ‡å®šå¯†é’¥ï¼Œè¿™æ˜¯ä¹‹åç”¨æ¥åˆ¤æ–­tokenåˆæ³•æ€§çš„æ ‡å¿—</span><br><span class="line"></span><br><span class="line">jwt.sign(userToken, secret) // ç­¾å‘token</span><br><span class="line"></span><br><span class="line">jwt.decode(token) // è§£ætoken</span><br></pre></td></tr></table></figure><h2 id="å¯†ç åŠ å¯†"><a href="#å¯†ç åŠ å¯†" class="headerlink" title="å¯†ç åŠ å¯†"></a>å¯†ç åŠ å¯†</h2><p>md5åŠ å¯†å®¹æ˜“è¢«ç ´è§£ï¼Œæ‰€ä»¥å‡†å¤‡é‡‡ç”¨<code>bcrypt</code>çš„åŠ å¯†æ–¹å¼ï¼Œå…¨éƒ¨èµ°åç«¯åŠ å¯†ã€‚<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®</span></span><br><span class="line">bcrypt.compareSync(data<span class="selector-class">.password</span>, userInfo.password)</span><br></pre></td></tr></table></figure></p><h2 id="Tokençš„å‘é€ä¸éªŒè¯"><a href="#Tokençš„å‘é€ä¸éªŒè¯" class="headerlink" title="Tokençš„å‘é€ä¸éªŒè¯"></a>Tokençš„å‘é€ä¸éªŒè¯</h2><p>åœ¨å…¨å±€å‘é€è¯·æ±‚<code>Header</code>ä¸ŠåŠ å…¥<code>Authorization</code>å±æ€§ï¼Œ å€¼æ˜¯<code>Bearer tokenå€¼</code><br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue<span class="selector-class">.prototype</span>.<span class="variable">$http</span><span class="selector-class">.defaults</span><span class="selector-class">.headers</span><span class="selector-class">.common</span>[<span class="string">'Authorization'</span>] = <span class="string">'Bearer '</span> + token</span><br></pre></td></tr></table></figure></p><p>/api/* éƒ½éœ€è¦èµ°tokenéªŒè¯<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">koa</span><span class="selector-class">.use</span>(<span class="string">"/api"</span>,jwt(&#123;<span class="attribute">secret</span>: <span class="string">'vue-koa-demo'</span>&#125;),api.routes()) <span class="comment">// æ‰€æœ‰èµ°/api/æ‰“å¤´çš„è¯·æ±‚éƒ½éœ€è¦ç»è¿‡jwtä¸­é—´ä»¶çš„éªŒè¯ã€‚secretå¯†é’¥å¿…é¡»è·Ÿæˆ‘ä»¬å½“åˆç­¾å‘çš„secretä¸€è‡´</span></span><br></pre></td></tr></table></figure></p><h2 id="Koa-serveé™æ€èµ„æº"><a href="#Koa-serveé™æ€èµ„æº" class="headerlink" title="Koa serveé™æ€èµ„æº"></a>Koa serveé™æ€èµ„æº</h2><p>é¡¹ç›®<code>npm run dev</code>æ‰“åŒ…å<br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> serve = <span class="keyword">require</span>(<span class="string">'koa-static'</span>)</span><br><span class="line"></span><br><span class="line">app.<span class="keyword">use</span>(serve(path.join(__dirname, <span class="string">'dist'</span>))) <span class="comment">// å°†webpackæ‰“åŒ…å¥½çš„é¡¹ç›®ç›®å½•ä½œä¸ºKoaé™æ€æ–‡ä»¶æœåŠ¡çš„ç›®å½•</span></span><br></pre></td></tr></table></figure></p><p>è¿™æ ·ä¸ç”¨å¯å‰ç«¯é¡¹ç›®ï¼Œlocalhost:8889å°±å¯ä»¥è®¿é—®æ‰“åŒ…å¥½çš„é™æ€èµ„æºé¡µé¢ã€‚</p><h2 id="End"><a href="#End" class="headerlink" title="End"></a>End</h2><p>è¿™æ˜¯ä¸€ä¸ªå‰åç«¯éƒ½æœ‰çš„å®Œæ•´å°demoï¼Œç»“æ„æ¸…æ™°ç®€å•çš„å°ä¸œè¥¿æ›´å®¹æ˜“ç†è§£å’Œå…¥é—¨ï¼Œå®Œæ•´é¡¹ç›®<a href="https://github.com/Yu-Lxy/Daily_practice/tree/master/koa" target="_blank" rel="noopener">Githubåœ°å€</a>ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Start&quot;&gt;&lt;a href=&quot;#Start&quot; class=&quot;headerlink&quot; title=&quot;Start&quot;&gt;&lt;/a&gt;Start&lt;/h2&gt;&lt;p&gt;æ„å»ºä¸€ä¸ªæ•°æ®é€šè¿‡ &lt;code&gt;koa&lt;/code&gt; çš„apiè·å–ï¼Œé¡µé¢é€šè¿‡ &lt;code&gt;vue&lt;/code&gt; æ¸²æŸ“çš„å‰åç«¯éƒ½æœ‰çš„å®Œæ•´demoã€‚åŒ…æ‹¬ä¸€ä¸ªç™»é™†é¡µé¢å’Œä¸€ä¸ªtodolisté¡µé¢çš„å¢åˆ æ”¹æŸ¥ï¼Œå…¶ä¸­ç”¨åˆ°äº†å‰ç«¯ &lt;code&gt;Vueæ¡†æ¶&lt;/code&gt; ã€&lt;code&gt;koa&lt;/code&gt; æä¾›æ¥å£ã€éªŒè¯ &lt;code&gt;token&lt;/code&gt;ã€&lt;code&gt;sequelize&lt;/code&gt; æ“ä½œ &lt;code&gt;mysql&lt;/code&gt; ç­‰ï¼Œè¿™é‡Œè®°å½•ä¸€äº›å…³é”®ç‚¹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="koa" scheme="http://yoursite.com/categories/koa/"/>
    
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
      <category term="koa" scheme="http://yoursite.com/tags/koa/"/>
    
  </entry>
  
  <entry>
    <title>try catchèƒ½æ•è·åˆ°å“ªäº›JSå¼‚å¸¸</title>
    <link href="http://yoursite.com/2020/08/04/tryCatch/"/>
    <id>http://yoursite.com/2020/08/04/tryCatch/</id>
    <published>2020-08-04T01:50:45.000Z</published>
    <updated>2020-09-04T02:00:54.226Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å†™ä»£ç æ—¶ç»å¸¸ä¼šç”¨åˆ° <code>try catch</code>ï¼Œé˜²æ­¢ä¸€äº›JSæŠ¥é”™ï¼Œå¯¼è‡´é¡µé¢æŒ‚æ‰ã€‚é‚£ä¹ˆåˆ°åº•å“ªäº›JSå¼‚å¸¸èƒ½è¢«æ•è·åˆ°å‘¢ï¼Ÿ</p></blockquote><a id="more"></a><blockquote><p><strong>ç®€å•è§£é‡Šå°±æ˜¯ï¼šåœ¨æŠ¥é”™çš„æ—¶å€™ï¼Œçº¿ç¨‹æ‰§è¡Œå·²ç»è¿›å…¥ <code>try catch</code> ä»£ç å—ï¼Œå¹¶ä¸”å¤„åœ¨ <code>try catch</code> é‡Œï¼Œæ‰èƒ½è¢«æ•æ‰åˆ°ã€‚</strong>ï¼ˆä¹‹å‰ï¼Œä¹‹åéƒ½æ— æ³•æ•æ‰å¼‚å¸¸ï¼‰</p></blockquote><ul><li><h6 id="ä¸‹é¢ä¸‰ä¸ªå°æ —å­ï¼Œè§£é‡Šä¸€ä¸‹-try-catch-çš„å‰ä¸­å"><a href="#ä¸‹é¢ä¸‰ä¸ªå°æ —å­ï¼Œè§£é‡Šä¸€ä¸‹-try-catch-çš„å‰ä¸­å" class="headerlink" title="ä¸‹é¢ä¸‰ä¸ªå°æ —å­ï¼Œè§£é‡Šä¸€ä¸‹ try catch çš„å‰ä¸­å"></a>ä¸‹é¢ä¸‰ä¸ªå°æ —å­ï¼Œè§£é‡Šä¸€ä¸‹ <code>try catch</code> çš„å‰ä¸­å</h6></li></ul><p>ğŸŒ° ä¾‹å­1ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    a(</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'error'</span>, e)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line">Uncaught <span class="built_in">SyntaxError</span>: Unexpected token &#125;</span><br></pre></td></tr></table></figure></p><p><em>ä¾‹å­1</em> è¯­æ³•å¼‚å¸¸ï¼ˆSyntaxErrorï¼‰ï¼Œå› ä¸ºè¯­æ³•å¼‚å¸¸æ˜¯åœ¨è¯­æ³•é˜¶æ®µå°±æŠ¥é”™äº†ï¼Œæ‰€ä»¥çº¿ç¨‹è¿˜æ²¡è¿›å…¥ <code>try catch</code> ä»£ç å—ï¼Œå°±æ•è·ä¸åˆ°å¼‚å¸¸ã€‚</p><p>ğŸŒ° ä¾‹å­2ï¼š<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function d () &#123;a.b&#125;</span><br><span class="line">try &#123;</span><br><span class="line">   d()</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">   console.log('error', e)</span><br><span class="line">&#125;</span><br><span class="line">// output</span><br><span class="line"><span class="keyword">error </span>ReferenceError: a is not defined</span><br></pre></td></tr></table></figure></p><p><em>ä¾‹å­2</em> æŠ¥é”™çš„æ—¶æœºï¼Œæ˜¯ä»£ç æ‰§è¡Œè¿›å…¥äº† <code>try catch</code> ï¼Œæ‰§è¡Œ d æ–¹æ³•çš„æ—¶å€™ï¼Œçº¿ç¨‹æ‰§è¡Œå¤„åœ¨ <code>try</code> é‡Œé¢ï¼Œæ‰€ä»¥èƒ½æ•æ‰åˆ°ã€‚</p><p>ğŸŒ° ä¾‹å­3ï¼š<br><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">   function d () &#123;a.b&#125;</span><br><span class="line">&#125; catch (e) &#123;</span><br><span class="line">   console.log('error', e)</span><br><span class="line">&#125;</span><br><span class="line">d()</span><br><span class="line">// output</span><br><span class="line"><span class="keyword">error </span>ReferenceError: a is not defined</span><br></pre></td></tr></table></figure></p><p><em>ä¾‹å­3</em> æ–¹æ³•å®šä¹‰åœ¨ <code>try catch</code> ä»£ç å—é‡Œï¼Œä½†æ˜¯æ‰§è¡Œæ–¹æ³•åœ¨ <code>try catch</code> å¤–ï¼Œæ‰§è¡Œ d æ–¹æ³•çš„æ—¶å€™æŠ¥é”™ï¼Œæ­¤æ—¶ try catch å·²ç»æ‰§è¡Œå®Œæˆï¼Œæ‰€ä»¥æ— æ³•æ•æ‰å¼‚å¸¸ã€‚</p><p>ä¸‰ä¸ªä¾‹å­ä¹‹ååº”è¯¥èƒ½ç†è§£æ€æ ·çš„JSå¼‚å¸¸å¯ä»¥è¢«æ•è·äº†ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ç”¨ <code>promise</code> çš„æ—¶å€™å‘ç°ç›¸å¯¹äºå¤–éƒ¨çš„ <code>try catch</code> ï¼ŒPromise æ²¡æœ‰å¼‚å¸¸ï¼</p><h3 id="promise-amp-try-catch"><a href="#promise-amp-try-catch" class="headerlink" title="promise &amp; try catch"></a>promise &amp; try catch</h3><p>ğŸŒ° ä¾‹å­4ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    a.b</span><br><span class="line">  &#125;).then(<span class="function"><span class="params">v</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>(v)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'error'</span>, e)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line">Uncaught (<span class="keyword">in</span> promise) <span class="built_in">ReferenceError</span>: a is not defined</span><br></pre></td></tr></table></figure></p><p><em>ä¾‹å­4</em> çº¿ç¨‹åœ¨æ‰§è¡Œa.bçš„æ—¶å€™ï¼Œé€‚æ—¶å‘å±äºåŒæ­¥æ‰§è¡Œï¼Œ<code>try catch</code> å¹¶æœªæ‰§è¡Œå®Œæˆï¼Œä¸ºä»€ä¹ˆæ•è·ä¸åˆ°å¼‚å¸¸å‘¢ï¼Ÿ</p><p>äº‹å®ä¸Šï¼Œ<strong>Promise çš„å¼‚å¸¸éƒ½æ˜¯ç”± reject å’Œ Promise.prototype.catch æ¥æ•è·</strong>ï¼Œä¸ç®¡æ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥ã€‚</p><p>æ ¸å¿ƒåŸå› æ˜¯å› ä¸º <code>Promise</code> åœ¨æ‰§è¡Œå›è°ƒä¸­éƒ½ç”¨ <code>try catch</code> åŒ…è£¹èµ·æ¥äº†ï¼Œå…¶ä¸­æ‰€æœ‰çš„å¼‚å¸¸éƒ½è¢«å†…éƒ¨æ•è·åˆ°äº†ï¼Œå¹¶æœªå¾€ä¸ŠæŠ›å¼‚å¸¸ï¼Œæ‰€ä»¥å¼‚å¸¸éƒ½ä¸ä¼šè¢«å¤–å±‚çš„ <code>try catch</code> æ•æ‰ã€‚</p><p>ğŸŒ° ä¾‹å­5ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>Â <span class="title">a</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span>Â <span class="keyword">new</span>Â <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,Â reject</span>)Â =&gt;</span>&#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span>Â =&gt;</span>Â &#123;</span><br><span class="line">      reject(<span class="string">'æŠ¥é”™äº†'</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">await</span>Â a()</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'error'</span>, e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo()</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line">error æŠ¥é”™äº†</span><br></pre></td></tr></table></figure></p><p>ä¸ºä»€ä¹ˆ <em>ä¾‹å­5</em> çš„å¼‚å¸¸èƒ½è¢« <code>catch</code> æ•è·åˆ°å‘¢ï¼Œå› ä¸ºæŠ¥é”™çš„æ—¶å€™ï¼Œçº¿ç¨‹æ‰§è¡Œå·²ç»è¿›å…¥äº† <code>try catch</code> ä»£ç å—ï¼Œå¹¶ä¸”å¼‚å¸¸ç”± reject æŠ›å‡ºï¼Œè‡ªç„¶å¯ä»¥æ•è·åˆ°ã€‚</p><p> ###æ€»ç»“ï¼š</p><blockquote><p><strong>1. åœ¨æŠ¥é”™çš„æ—¶å€™ï¼Œçº¿ç¨‹æ‰§è¡Œå·²ç»è¿›å…¥ <code>try catch</code> ä»£ç å—ï¼Œå¹¶ä¸”å¤„åœ¨ <code>try catch</code> é‡Œï¼Œæ‰èƒ½è¢«æ•æ‰åˆ°ã€‚</strong></p></blockquote><blockquote><p><strong>2. ä¸è¦ç”¨ <code>try catch</code> åŒ…è£¹ <code>Promise</code>ï¼Œæˆ‘ä»¬åªéœ€è¦ç»™ <code>Promise</code> å¢åŠ  Promise#catch å°± OK äº†</strong></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;å†™ä»£ç æ—¶ç»å¸¸ä¼šç”¨åˆ° &lt;code&gt;try catch&lt;/code&gt;ï¼Œé˜²æ­¢ä¸€äº›JSæŠ¥é”™ï¼Œå¯¼è‡´é¡µé¢æŒ‚æ‰ã€‚é‚£ä¹ˆåˆ°åº•å“ªäº›JSå¼‚å¸¸èƒ½è¢«æ•è·åˆ°å‘¢ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/categories/js/"/>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>EventLoop çš„ç®€å•ç†è§£</title>
    <link href="http://yoursite.com/2020/07/28/eventLoop/"/>
    <id>http://yoursite.com/2020/07/28/eventLoop/</id>
    <published>2020-07-28T02:13:09.000Z</published>
    <updated>2020-09-04T02:15:23.937Z</updated>
    
    <content type="html"><![CDATA[<h3 id="EventLoopæ˜¯ä»€ä¹ˆ"><a href="#EventLoopæ˜¯ä»€ä¹ˆ" class="headerlink" title="EventLoopæ˜¯ä»€ä¹ˆ"></a>EventLoopæ˜¯ä»€ä¹ˆ</h3><blockquote><p>ä¸€ä¸ªå¾ªç¯ æ¯æ¬¡å¾ªç¯å«tick æ¯æ¬¡å¾ªç¯çš„ä»£ç å«task</p></blockquote><ul><li>V8å¼•æ“å•çº¿ç¨‹æ— æ³•åŒæ—¶å¹²ä¸¤ä»¶äº‹</li><li>æ–‡ä»¶è¯»å–ã€ç½‘ç»œIOç¼“æ…¢ä¸”å…·æœ‰ä¸ç¡®å®šæ€§</li><li>è¦é€šè¿‡å¼‚æ­¥å›è°ƒæ–¹å¼å¤„ç†åˆç§°ä¸ºå¼‚æ­¥IO</li><li>å…ˆåŒæ­¥å†å¼‚æ­¥ å¼‚æ­¥æ”¾å…¥é˜Ÿåˆ—ç­‰åŒæ­¥å®Œæˆåå†æ‰§è¡Œ æ¯æ¬¡å¾ªç¯å«ä¸€ä¸ªtick(process.nextTick())</li></ul><a id="more"></a><h3 id="å¼‚æ­¥ä»»åŠ¡çš„åŒºåˆ†"><a href="#å¼‚æ­¥ä»»åŠ¡çš„åŒºåˆ†" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡çš„åŒºåˆ†"></a>å¼‚æ­¥ä»»åŠ¡çš„åŒºåˆ†</h3><p>microtasks(å¾®ä»»åŠ¡)ï¼š</p><blockquote><p>å”¯ä¸€ï¼Œæ•´ä¸ªäº‹ä»¶å¾ªç¯ä¸­ä»…å­˜åœ¨ä¸€ä¸ªï¼›æ‰§è¡Œä¸ºåŒæ­¥ï¼ŒåŒä¸€ä¸ªäº‹ä»¶å¾ªç¯ä¸­çš„microtasksä¼šæŒ‰é˜Ÿåˆ—é¡ºåºä¸²è¡Œæ‰§è¡Œå®Œæ¯•</p><ul><li>process.nextTick</li><li>promise</li><li>Object.observe</li><li>MutationObserver</li></ul></blockquote><p>macrotask(å®ä»»åŠ¡)ï¼š</p><ul><li>setTimeout</li><li>serInterval</li><li>setImmediate</li><li>I/O</li><li>UIæ¸²æŸ“</li></ul><blockquote><p>å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ å†æ‰§è¡Œå®ä»»åŠ¡</p></blockquote><p>å¦‚æœé‡åˆ°asyncçš„ä»£ç  awaitåé¢çš„ç¨‹åºå°±æŒ‚èµ· ç±»ä¼¼äºå¾®ä»»åŠ¡ ç­‰åˆ°åé¢çš„åŒæ­¥ä»»åŠ¡æ‰§è¡Œå®Œäº†å†æ‰§è¡Œ</p><p>æœ€åä¸Šä¸€ä¸ªå°æ —å­ğŸŒ°<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'resolve'</span>)</span><br><span class="line">  resolve()</span><br><span class="line">&#125;))</span><br><span class="line">.then(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'promise then ...'</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"fun start"</span>)</span><br><span class="line">  <span class="keyword">const</span> aa = <span class="keyword">await</span> <span class="number">1</span> <span class="comment">// åˆ°è¿™é‡ŒæŒ‚èµ·ï¼Œåé¢å…ˆä¸æ‰§è¡Œ</span></span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"fun end"</span>)</span><br><span class="line">&#125;</span><br><span class="line">fun()</span><br><span class="line"></span><br><span class="line"><span class="comment">// setTimeout æ”¾å…¥event tableä¸­ 1ç§’åå°†å›è°ƒå‡½æ•°æ”¾å…¥å®ä»»åŠ¡çš„event queueä¸­</span></span><br><span class="line">setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'setTimeout ...'</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">process.nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'nextTick ...'</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'console ...'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// output</span></span><br><span class="line">resolve</span><br><span class="line">fun start</span><br><span class="line"><span class="built_in">console</span> ...</span><br><span class="line">nextTick ...</span><br><span class="line">promise then ...</span><br><span class="line">fun end</span><br><span class="line">setTimeout ...</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;EventLoopæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;a href=&quot;#EventLoopæ˜¯ä»€ä¹ˆ&quot; class=&quot;headerlink&quot; title=&quot;EventLoopæ˜¯ä»€ä¹ˆ&quot;&gt;&lt;/a&gt;EventLoopæ˜¯ä»€ä¹ˆ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ä¸€ä¸ªå¾ªç¯ æ¯æ¬¡å¾ªç¯å«tick æ¯æ¬¡å¾ªç¯çš„ä»£ç å«task&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;V8å¼•æ“å•çº¿ç¨‹æ— æ³•åŒæ—¶å¹²ä¸¤ä»¶äº‹&lt;/li&gt;
&lt;li&gt;æ–‡ä»¶è¯»å–ã€ç½‘ç»œIOç¼“æ…¢ä¸”å…·æœ‰ä¸ç¡®å®šæ€§&lt;/li&gt;
&lt;li&gt;è¦é€šè¿‡å¼‚æ­¥å›è°ƒæ–¹å¼å¤„ç†åˆç§°ä¸ºå¼‚æ­¥IO&lt;/li&gt;
&lt;li&gt;å…ˆåŒæ­¥å†å¼‚æ­¥ å¼‚æ­¥æ”¾å…¥é˜Ÿåˆ—ç­‰åŒæ­¥å®Œæˆåå†æ‰§è¡Œ æ¯æ¬¡å¾ªç¯å«ä¸€ä¸ªtick(process.nextTick())&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="js" scheme="http://yoursite.com/categories/js/"/>
    
    
      <category term="js" scheme="http://yoursite.com/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>vue+vue-ueditor-wrap+ç§€ç±³</title>
    <link href="http://yoursite.com/2019/09/03/xiumi/"/>
    <id>http://yoursite.com/2019/09/03/xiumi/</id>
    <published>2019-09-03T09:44:15.000Z</published>
    <updated>2020-09-04T01:53:42.524Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ueditor+ç§€ç±³çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œgithubä¸Šçš„å¤§ç¥åšäº†ä¸€ä¸ªåŸºäºvueçš„ueditorçš„ç»„ä»¶ï¼Œèƒ½å¤Ÿå®ç°åŒå‘æ•°æ®ç»‘å®šï¼Œå¯ä»¥ä¸ç”¨è´¹åŠ²çš„getContentã€setContentã€‚å°±å†³å®šç”¨è¿™ä¸ªç»„ä»¶ â€”â€”  <a href="https://github.com/HaoChuan9421/vue-ueditor-wrap" target="_blank" rel="noopener">vue-ueditor-wrap</a>    ã€‚so~  vue+vue-ueditor-wrap+ç§€ç±³. å¼€å§‹å§ â¤µï¸</p><a id="more"></a><p><strong>ä¸€ï¼šå»ueditorå®˜ç½‘ä¸‹è½½å®˜æ–¹æºç </strong> </p><ol><li><p><a href="https://ueditor.baidu.com/website/download.html" target="_blank" rel="noopener">https://ueditor.baidu.com/website/download.html</a></p></li><li><p>ä¸‹è½½å®Œæˆåï¼Œæ”¾åˆ°ä½ çš„Vueé¡¹ç›®é‡Œstaticä¸‹å¹¶å‘½åä¸ºUEditorã€‚</p></li></ol><p><strong>äºŒï¼šå®‰è£…vue-ueditor-wrap</strong> </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-ueditor-wrap</span><br></pre></td></tr></table></figure><p><strong>ä¸‰ï¼šå¼•å…¥å¹¶ä½¿ç”¨</strong> </p><ol><li><p>main.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="comment">// å¼•å…¥ueditorçš„ä¾èµ–æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../static/UEditor/ueditor.config'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../static/UEditor/ueditor.all.min.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../static/UEditor/lang/zh-cn/zh-cn.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'../static/UEditor/ueditor.parse.min.js'</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">'#app'</span>,</span><br><span class="line">  router,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>ç»„ä»¶é‡Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"hello"</span>&gt;</span><br><span class="line">  &lt;!--æ•°æ®ç»‘å®š--&gt;</span><br><span class="line">    &lt;vue-ueditor-wrap v-model=<span class="string">"msg"</span> /&gt;</span><br><span class="line">    &lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>div&gt;</span><br><span class="line">&lt;<span class="regexp">/template&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">import VueUeditorWrap from 'vue-ueditor-wrap' /</span><span class="regexp">/ å¼•å…¥vue-ueditor-wrap</span></span><br><span class="line"><span class="regexp">export default &#123;</span></span><br><span class="line"><span class="regexp">  name: 'HelloWorld',</span></span><br><span class="line"><span class="regexp">  components: &#123;</span></span><br><span class="line"><span class="regexp">    VueUeditorWrap/</span><span class="regexp">/æ³¨å†Œç»„ä»¶</span></span><br><span class="line"><span class="regexp">  &#125;,</span></span><br><span class="line"><span class="regexp">  data () &#123;</span></span><br><span class="line"><span class="regexp">    return &#123;</span></span><br><span class="line"><span class="regexp">      msg: 'Welcome to Your Vue.js App'</span></span><br><span class="line"><span class="regexp">    &#125;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/style&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>è¿™äº›å®Œæˆåï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ä¸€ä¸ªåˆå§‹åŒ–å¥½çš„<code>ueditor</code>äº†ï¼Œå¹¶ä¸”å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç»‘å®šæƒ³è¦çš„æ•°æ® ?<br>æ¥å…¥<strong>ç§€ç±³</strong>çš„ç«¥é‹ç»§ç»­å‘ä¸‹çœ‹?</p><p><strong>å››ï¼šåœ¨ueditoråŸºç¡€ä¸Šæ¥å…¥ç§€ç±³</strong></p><p>ç§€ç±³æä¾›ï¼š<a href="http://hgs.xiumi.us/uedit/" target="_blank" rel="noopener">ç§€ç±³å›¾æ–‡æ’ç‰ˆUEditoræ’ä»¶ç¤ºä¾‹</a></p><ol><li><p>åœ¨ä½ çš„index.htmlä¸­å¼•ç”¨ <code>http://xiumi.us/connect/ue/xiumi-ue-dialog-v5.js</code> å’Œ <code>http://xiumi.us/connect/ue/xiumi-ue-v5.css</code> ä¹Ÿå¯ä»¥ä¸‹è½½æ–‡ä»¶åæ”¾åœ¨UEditorç›®å½•ä¸‹å¼•å…¥æœ¬åœ°æ–‡ä»¶ï¼Œè¿™æ ·æ–¹ä¾¿ä¿®æ”¹ã€‚ï¼ˆæˆ‘æ˜¯ä¸‹è½½åå¼•å…¥æœ¬åœ°çš„ï¼‰å¦‚ä¸‹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">"static/UEditor/xiumi-ue-v5.css"</span>&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span> charset=<span class="string">"utf-8"</span> src=<span class="string">"static/UEditor/xiumi-ue-dialog-v5.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>ä¸‹è½½æ–‡ä»¶ <code>http://xiumi.us/connect/ue/xiumi-ue-dialog-v5.html</code> å’Œ <code>http://hgs.xiumi.us/uedit/dialogs/internal.js</code> æ”¾åœ¨ä½ çš„UEditorç›®å½•ä¸‹ã€‚</p></li><li><p>ä¿®æ”¹<code>UEditor</code>çš„é…ç½®ï¼ˆueditor.config.jsï¼‰ï¼Œç¬¬414è¡Œå·¦å³ï¼šå°†section:[] æ”¹ä¸ºsection:[â€˜classâ€™, â€˜styleâ€™]ï¼Œé¿å…ueditorä¿®æ”¹ç§€ç±³çš„æ ¼å¼ä¿¡æ¯ï¼Œé€ æˆæ’ç‰ˆé”™è¯¯ã€‚</p></li><li><p>åœ¨<code>xiumi-ue-dialog-v5.js</code>ä¸­æŠŠ<code>iframeUrl</code>æ”¹ä¸ºæœ¬åœ°ç§€ç±³H5çš„è·¯å¾„ï¼Œå¦‚æœä½ éƒ½æ˜¯æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤è¿›è¡Œé‚£ä¹ˆè·¯å¾„å°†æ˜¯<code>/static/UEditor/xiumi-ue-dialog-v5.html</code>ï¼Œå¦‚æœä¸æ˜¯çš„è¯è¦æŒ‰ä½ è‡ªå·±çš„è·¯å¾„ã€‚</p></li></ol><p>åˆ°è¿™é‡Œå°±æ˜¯å¯ä»¥æ­£å¸¸ä½¿ç”¨ç§€ç±³å¹¶ä¸”æœ‰ç€åŒå‘æ•°æ®ç»‘å®šçš„ueditorå•¦ã€‚<br>å›¾ç‰‡ä¸Šä¼ ç›¸å…³åŠŸèƒ½éœ€è¦åå°å°å“¥å“¥çš„ååŠ©ã€‚<br>å…¶ä½™ä¸ç§€ç±³çš„å¯¹æ¥å¯ä»¥å‚è€ƒ<a href="http://ent.xiumi.us/" target="_blank" rel="noopener">ä¸ç§€ç±³å¯¹æ¥</a><br>è¿˜æ˜¯æœ‰ç–‘é—®çš„å°ç›†å‹å¯ä»¥ä¸‹è½½æˆ‘ä¸Šä¼ çš„<a href="https://github.com/Yu-Lxy/vue-ueditor-wrap-xiumi" target="_blank" rel="noopener">demo</a>ï¼Œå¸Œæœ›å¯ä»¥å¸®åŠ©åˆ°ä½ ğŸ˜œ</p><p>è¿™æ˜¯æ¥å¥½åçš„æ ·çº¸ï¼š<br><img src="/2019/09/03/xiumi/1599127298698.jpg" alt="ç§€ç±³"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æˆ‘ä»¬çš„é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ueditor+ç§€ç±³çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œgithubä¸Šçš„å¤§ç¥åšäº†ä¸€ä¸ªåŸºäºvueçš„ueditorçš„ç»„ä»¶ï¼Œèƒ½å¤Ÿå®ç°åŒå‘æ•°æ®ç»‘å®šï¼Œå¯ä»¥ä¸ç”¨è´¹åŠ²çš„getContentã€setContentã€‚å°±å†³å®šç”¨è¿™ä¸ªç»„ä»¶ â€”â€”  &lt;a href=&quot;https://github.com/HaoChuan9421/vue-ueditor-wrap&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;vue-ueditor-wrap&lt;/a&gt;    ã€‚so~  vue+vue-ueditor-wrap+ç§€ç±³. å¼€å§‹å§ â¤µï¸&lt;/p&gt;
    
    </summary>
    
      <category term="vue" scheme="http://yoursite.com/categories/vue/"/>
    
    
      <category term="vue" scheme="http://yoursite.com/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>hexoæ­å»ºä¸ªäººåšå®¢</title>
    <link href="http://yoursite.com/2019/03/01/buildHexo/"/>
    <id>http://yoursite.com/2019/03/01/buildHexo/</id>
    <published>2019-03-01T09:32:15.000Z</published>
    <updated>2020-09-04T02:35:57.146Z</updated>
    
    <content type="html"><![CDATA[<p>ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ç§ç±»å‹çš„åšå®¢å°±èµ¶è„šé€¼æ ¼å¾ˆé«˜çš„æ ·çº¸ ğŸ˜</p><p>åæ¥è¯•ç€æ­èµ·æ¥è§‰å¾—å¹¶ä¸å›°éš¾ â˜ï¸</p><p>ç®€å•æ¥è¯´hexoå°±æ˜¯ä¸€ä¸ªé™æ€é¡µé¢ç”Ÿæˆå’Œåˆ›å»ºçš„å·¥å…·</p><p>è¿™ç¯‡æ•™ä½ æ­å»ºä¸€ä¸ªè‡ªå·±çš„hexoåšå®¢ ğŸ‘‰</p><a id="more"></a><h3 id="æˆ‘çš„æ­å»ºæ­¥éª¤æœ‰ä»¥ä¸‹ï¼š"><a href="#æˆ‘çš„æ­å»ºæ­¥éª¤æœ‰ä»¥ä¸‹ï¼š" class="headerlink" title="æˆ‘çš„æ­å»ºæ­¥éª¤æœ‰ä»¥ä¸‹ï¼š"></a>æˆ‘çš„æ­å»ºæ­¥éª¤æœ‰ä»¥ä¸‹ï¼š</h3><ul><li>å®‰è£…Git</li><li>å®‰è£…Node.js</li><li>å®‰è£…Hexo</li><li>GitHubåˆ›å»ºä¸ªäººä»“åº“</li><li>ç”ŸæˆSSHæ·»åŠ åˆ°GitHub</li><li>å°†hexoéƒ¨ç½²åˆ°GitHub</li></ul><h3 id="1-å®‰è£…gitå’Œnode"><a href="#1-å®‰è£…gitå’Œnode" class="headerlink" title="1.å®‰è£…gitå’Œnode"></a>1.å®‰è£…gitå’Œnode</h3><p>gitå’Œnodeæ˜¯å¿…å¤‡æ¡ä»¶, å¯ä»¥æˆ³ï¼š<br><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener">å»–é›ªå³°å¤§ç¥çš„gitæ•™ç¨‹</a><br><a href="http://nodejs.cn/download/" target="_blank" rel="noopener">ä¸‹è½½node</a></p><h3 id="2-å®‰è£…hexo"><a href="#2-å®‰è£…hexo" class="headerlink" title="2.å®‰è£…hexo"></a>2.å®‰è£…hexo</h3><p>gitå’Œnodeå®‰å¥½ä¹‹åï¼Œæ¥ä¸‹æ¥å°±æ˜¯å®‰hexoäº†<br>1.å¯ä»¥å…ˆæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¾‹ğŸŒ°:æˆ‘çš„æ˜¯myBlog<br>è¿›åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œæ‰“å¼€å‘½ä»¤è¡Œ<br>2.Windowsçš„å°ä¼™ä¼´å¯ä»¥ç›´æ¥ç”¨ <code>npm install -g hexo</code><br>macçš„å°ä¼™ä¼´éœ€è¦ç”¨ <code>sudo npm install --unsafe-perm --verbose -g hexo</code><br>å®Œæˆä¹‹åå¯ä»¥ <code>hexo -v</code> æŸ¥çœ‹hexoç‰ˆæœ¬<br>3.æ¥ä¸‹æ¥åˆå§‹åŒ–hexo <code>hexo init</code><br>å®Œæˆä¹‹åä¼šåœ¨myBlogç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š</p><table><thead><tr><th>åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>node_modulesï¼š</td><td>æ˜¯ä¾èµ–åŒ…</td></tr><tr><td>publicï¼š</td><td>ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œè¿™ä¸ªç›®å½•æœ€ç»ˆä¼šå‘å¸ƒåˆ°æœåŠ¡å™¨</td></tr><tr><td>scaffoldsï¼š</td><td>å‘½ä»¤ç”Ÿæˆæ–‡ç« ç­‰çš„æ¨¡æ¿</td></tr><tr><td>sourceï¼š</td><td>ç¼–å†™çš„markdownæ–‡ä»¶ï¼Œ_draftsè‰ç¨¿æ–‡ä»¶ï¼Œ_postså‘å¸ƒçš„æ–‡ç« </td></tr><tr><td>themesï¼š</td><td>ä¸»é¢˜</td></tr><tr><td>_config.ymlï¼š</td><td>æ•´ä¸ªåšå®¢çš„é…ç½®</td></tr><tr><td>package.jsonï¼š</td><td>é¡¹ç›®æ‰€éœ€æ¨¡å—é¡¹ç›®çš„é…ç½®ä¿¡æ¯</td></tr></tbody></table><p>æˆ‘ä»¬æ­£å¸¸ä½¿ç”¨ï¼Œä¿®æ”¹æœ€å¤šçš„æºç æ˜¯ <code>_config.yml</code> æ–‡ä»¶ï¼Œä¸ç®¡æ˜¯åšå®¢çš„åŸºç¡€é…ç½®ï¼Œè¿˜æ˜¯æ¨¡æ¿ï¼Œéƒ½æ˜¯ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶ã€‚<br><code>source</code> æ˜¯æˆ‘ä»¬æ—¥å¸¸å†™æ–‡ç« è¦ç”¨çš„ç›®å½•ï¼Œæ˜¯æˆ‘ä»¬æ—¥å¸¸æ“ä½œçš„æ–‡ä»¶å¤¹ã€‚<br>å¦‚æœè¦ä¿®æ”¹ä¸»é¢˜æ¨¡æ¿ï¼Œå°±éœ€è¦æ“ä½œ <code>themes</code>.</p><p>4.æ¥ä¸‹æ¥<br><code>hexo g</code><br><code>hexo s</code><br>å°±å¯ä»¥åœ¨æœ¬åœ° <code>http://localhost:4000</code> é¢„è§ˆäº†<br><code>ctrl+c</code> æˆ–æ˜¯ <code>control+c</code> å…³é—­æœ¬åœ°æœåŠ¡</p><h3 id="GitHubåˆ›å»ºä¸ªäººä»“åº“"><a href="#GitHubåˆ›å»ºä¸ªäººä»“åº“" class="headerlink" title="GitHubåˆ›å»ºä¸ªäººä»“åº“"></a>GitHubåˆ›å»ºä¸ªäººä»“åº“</h3><p>æ²¡æœ‰githubè´¦å·éœ€è¦å…ˆæ³¨å†Œä¸€ä¸ªå“¦<br>æœ‰è´¦å·å°±æ–°å»ºä¸€ä¸ªåº“ï¼š<br><img src="/2019/03/01/buildHexo/hexo1.jpg" alt="Create a new repository"><br>å»ºä¸€ä¸ªå’Œä½ çš„usernameä¸€æ ·åå­—çš„åº“ï¼Œæ¯”å¦‚æˆ‘çš„å°±æ˜¯è¿™æ ·ï¼š<br><img src="/2019/03/01/buildHexo/hexo2.jpg" alt><br>ç‚¹å‡»create repository</p><h3 id="ç”ŸæˆSSHæ·»åŠ åˆ°GitHub-mac"><a href="#ç”ŸæˆSSHæ·»åŠ åˆ°GitHub-mac" class="headerlink" title="ç”ŸæˆSSHæ·»åŠ åˆ°GitHub(mac)"></a>ç”ŸæˆSSHæ·»åŠ åˆ°GitHub(mac)</h3><p>1.æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨SSH Key<br>æ‰“å¼€ç”µè„‘ç»ˆç«¯ï¼Œè¾“å…¥ <code>ls -al ~/.ssh</code><br>2.å¦‚æœç»ˆç«¯å‡ºç°æ–‡ä»¶id_rsa.pub æˆ– id_dsa.pubï¼Œåˆ™è¡¨ç¤ºè¯¥ç”µè„‘å·²ç»å­˜åœ¨SSH Keyï¼Œæ­¤æ—¶å¯ç»§ç»­è¾“å…¥<br><code>cat ~/.ssh/id_rsa.pub</code><br>å¤åˆ¶æ¥ä¸‹æ¥æ˜¾ç¤ºå‡ºæ¥çš„ä¸€å¤§ä¸²å†…å®¹<br>3.å¦‚æœç»ˆç«¯æœªå‡ºç°id_rsa.pub æˆ– id_dsa.pubæ–‡ä»¶ï¼Œè¡¨ç¤ºè¯¥ç”µè„‘è¿˜æ²¡æœ‰é…ç½®SSH Keyï¼Œæ­¤æ—¶éœ€è¦è¾“<br><code>ssh-keygen -t rsa -C &quot;your_full_name@xxxxx.com&quot;</code><br>è¿ç»­å›è½¦å³å¯ï¼Œä¹Ÿå¯èƒ½ä¼šè®©ä½ è¾“å…¥å¯†ç ï¼Œå¯†ç å°±æ˜¯ä½ çš„å¼€æœºå¯†ç <br>åˆ›å»ºå®ŒæˆåæŒ‰ç…§ç¬¬äºŒæ­¥æ“ä½œå¤åˆ¶å°±è¡Œå•¦<br>è¿™æ—¶å€™å»åˆ°GitHubçš„setting<img src="/2019/03/01/buildHexo/hexo3.jpg" alt><br>å†ç‚¹å‡»SSH and GPG keys<img src="/2019/03/01/buildHexo/hexo4.jpg" alt><br>ç‚¹å‡»New SSH keyä¹‹åå§ä½ åˆšåˆšå¤åˆ¶çš„ä¸€ä¸²keyç²˜åœ¨è¿™é‡Œé¢ ç‚¹å‡»Add SSH keyå°±okå•¦<br><img src="/2019/03/01/buildHexo/hexo5.jpg" alt></p><h3 id="å°†hexoéƒ¨ç½²åˆ°GitHub"><a href="#å°†hexoéƒ¨ç½²åˆ°GitHub" class="headerlink" title="å°†hexoéƒ¨ç½²åˆ°GitHub"></a>å°†hexoéƒ¨ç½²åˆ°GitHub</h3><p>å®Œæˆè¿™ä¸€æ­¥å°±å¯ä»¥æŠŠä½ çš„hexoéƒ¨ç½²åˆ°githubä¸Šè¾£<br>1.é¦–å…ˆåœ¨ä½ çš„é¡¹ç›®æ–‡ä»¶ä¸‹æ‰¾åˆ° <code>_config.yml</code> è¿›å»æ‰¾åˆ°<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repo</span>: <span class="attribute">https</span>:<span class="comment">//github.com/YourgithubName/YourgithubName.github.io.git</span></span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure></p><p>æŠŠè¿™ä¸ªåœ°å€æ”¹æˆä½ ä¸“å±çš„ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ï¼š<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">repo:</span> <span class="string">https:</span><span class="comment">//github.com/Yu-Lxy/Yu-Lxy.github.io</span></span><br></pre></td></tr></table></figure></p><p>*æ³¨ï¼šè¿™é‡Œæœ‰ä¸ªå‘ğŸ•³ï¼Œä¸€å®šè¦åœ¨å†’å·åé¢åŠ ä¸€ä¸ªç©ºæ ¼ï¼Œä¸ç„¶ <code>hexo d</code> çš„æ—¶å€™ä¼šæ²¡æœ‰ååº”</p><p>2.éœ€è¦å®‰è£…deploy-git,ä¹Ÿå°±æ˜¯éƒ¨ç½²çš„å‘½ä»¤,è¿™æ ·ä½ æ‰èƒ½ç”¨å‘½ä»¤éƒ¨ç½²åˆ°GitHub:<br><code>npm install hexo-deployer-git --save</code><br>3.ç„¶å<br><code>hexo g</code><br><code>hexo d</code><br>è¾“å…¥ <code>http://yourname.github.io</code> å°±èƒ½çœ‹åˆ°ä½ çš„hexoå’¯~ğŸ˜†</p><p></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ç§ç±»å‹çš„åšå®¢å°±èµ¶è„šé€¼æ ¼å¾ˆé«˜çš„æ ·çº¸ ğŸ˜&lt;/p&gt;
&lt;p&gt;åæ¥è¯•ç€æ­èµ·æ¥è§‰å¾—å¹¶ä¸å›°éš¾ â˜ï¸&lt;/p&gt;
&lt;p&gt;ç®€å•æ¥è¯´hexoå°±æ˜¯ä¸€ä¸ªé™æ€é¡µé¢ç”Ÿæˆå’Œåˆ›å»ºçš„å·¥å…·&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡æ•™ä½ æ­å»ºä¸€ä¸ªè‡ªå·±çš„hexoåšå®¢ ğŸ‘‰&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://yoursite.com/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://yoursite.com/tags/hexo/"/>
    
  </entry>
  
</feed>
